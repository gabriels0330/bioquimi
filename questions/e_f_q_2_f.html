<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="our_logos/favicon_logos(1)/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="for_quiz.css">
    <script>
    document.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.cards');
    const nextButton = document.getElementById('next');
    const explain = document.getElementById('explica')
    const sideBottom = document.getElementsByClassName('check');
    const bolaContainer = document.getElementById('bolaContainer');
    const audioCorrect = document.getElementById('audioCorrect');
    const audioIncorrect = document.getElementById('audioIncorrect');
    let selectedCard = null;
    let questionChecked = false;
    
    // Variáveis para registrar acertos e questões respondidas
    let correctCount = 0;
    let totalAnswered = 0;

    // Elementos para exibir os resultados
    const correctCountElement = document.getElementById('correctCount');
    const totalAnsweredElement = document.getElementById('totalAnswered');

    cards.forEach(card => {
        card.addEventListener('click', () => {
            if (selectedCard) {
                selectedCard.classList.remove('selected');
            }
            card.classList.add('selected');
            selectedCard = card;
            nextButton.disabled = false;
            nextButton.classList.add('enabled');
            nextButton.style.backgroundColor = 'rgb(51, 167, 51)';
            nextButton.style.borderBottom = '5px solid rgb(0, 51, 0)';
            nextButton.style.cursor = 'pointer';
        });
    });

    nextButton.addEventListener('click', () => {
        if (!selectedCard) return;

        if (!questionChecked) {
            // Incrementa o contador de questões respondidas
            totalAnswered++;
            totalAnsweredElement.textContent = totalAnswered;
            explain.style.display = "block";

            const isCorrect = selectedCard.getAttribute('data-answer') === 'correct';
            if (isCorrect) {
                selectedCard.classList.add('correct');
                // Incrementa o contador de acertos
                correctCount++;
                correctCountElement.textContent = correctCount;
                nextButton.style.backgroundColor = 'rgb(51, 167, 51)';
                nextButton.style.borderBottom = '5px solid rgb(0, 51, 0)';

                // Adiciona a bola ao container
                bolaContainer.innerHTML = `
                    <div class="bola">
                        <div class="checked">✓</div>
                    </div>
                `;
                // Toca o áudio correto
                audioCorrect.play();
            } else {
                selectedCard.classList.add('incorrect');
                nextButton.style.backgroundColor = 'red';
                nextButton.style.borderBottom = '5px solid rgb(164, 3, 3)';

                // Adiciona o X ao container
                bolaContainer.innerHTML = `
                    <div class="erro">
                        <div class="error-mark">✗</div>
                    </div>
                `;
                // Toca o áudio incorreto
                audioIncorrect.play();
            }

            cards.forEach(card => {
                if (card !== selectedCard) {
                    if (card.getAttribute('data-answer') === 'correct') {
                        card.classList.add('correct');
                    } else {
                        card.classList.add('incorrect');
                    }
                }
                card.style.pointerEvents = 'none';
            });

            // Adiciona a classe 'correct' ou 'incorrect' ao elemento .check
            Array.from(sideBottom).forEach(check => {
                check.classList.add(isCorrect ? 'correct' : 'incorrect');
            });

            nextButton.textContent = 'PRÓXIMO';
            questionChecked = true;
        } else {
            // Redireciona para a página bioquimi.html
            window.location.href = 'e_f_q_3_f.html';
        }
    });
});
    </script>

    <title>Efeito estufa | Quiz | Bioquimi </title>
</head>
<body>

    <header>
        <h1>Qual é o principal poluente atmosférico emitido por veículos automotores?</h1>

        <div class="results">
            <div class="result-item">Acertos: <span id="correctCount">0</span>/15</div>
            <div class="result-item">Respondidas: <span id="totalAnswered">0</span>/15</div>
        </div>

    </header>
    <section>
        <div class="container">
            <div class="cards" data-answer="incorrect">
                <img src="imagens de alternativas/oxido_nitroso.png" alt="Óxido nitroso">
                <p>DIÓXIDO DE ENXOFRE (SO<sub>2</sub>)</p>
            </div>

            <div class="cards" data-answer="correct">
                <img src="imagens de alternativas/dioxido_de_carbono.png" alt="Dióxido de Carbono">
                <p>DIÓXIDO DE NITROGÊNIO (NO<sub>2</sub>)</p>
            </div>

            <div class="cards" data-answer="incorrect">
                <img src="imagens de alternativas/oxigenio.png" alt="Oxigênio">
                <p>MONÓXIDO DE CARBONO (CO)</p>
            </div>

            <div class="cards" data-answer="incorrect">
                <img src="imagens de alternativas/nitrogenio.png" alt="Nitrogênio">
                <p>METANO (CH<sub>4</sub>)</p>
            </div>
        </div>
    </section>

    <div class="check">
        <div id="bolaContainer"></div>
        <div id="explica"><p>LNO2 é um poluente emitido por veículos automotores, resultante da combustão de combustíveis fósseis.</p></div>
        <button id="next" type="button" disabled>CONFERIR</button>
    </div>

    <audio id="audioCorrect" src="imagens de alternativas/level-passed-142971.mp3"></audio>
    <audio id="audioIncorrect" src="imagens de alternativas/derrota.mp3"></audio>
</body>
</html>
